import java.math.BigInteger;public class Fusc {public static BigInteger fusc(BigInteger n) {return F(n, BigInteger.valueOf(1), BigInteger.valueOf(0));}private static BigInteger F(BigInteger n, BigInteger a, BigInteger b) {// F(n,1,0) = f(n)// F(0,a,b) = b// F(1,a,b) = a+b// F(2n,a,b) = F(n,a+b,b)// F(2n+1,a,b) = F(n,a,a+b)if (n.compareTo(BigInteger.ZERO) == 0) {return b;}if (n.compareTo(BigInteger.ONE) == 0) {return a.add(b);}if (n.mod(BigInteger.valueOf(2)).compareTo(BigInteger.ZERO) == 0) {return F(n.divide(BigInteger.valueOf(2)), a.add(b), b);}return F(n.divide(BigInteger.valueOf(2)), a, a.add(b));}}
